<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, My Love!</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    /* Background Gradient Animation */
    body {
      font-family: 'Lato', sans-serif;
      margin: 0; padding: 0;
      min-height: 100vh;
      background: linear-gradient(-45deg, #1e3c72, #2a5298, #667eea, #764ba2, #f093fb, #f5576c);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    @keyframes gradientShift {
      0% {background-position:0% 50%;}
      50% {background-position:100% 50%;}
      100% {background-position:0% 50%;}
    }

    .content-container {
      position: relative;
      z-index: 1;
      text-align: center;
      max-width: 900px;
      width: 90vw;
    }

    /* Photo on Welcome Page */
    .welcome-photo {
      max-width: 250px;
      width: 80vw;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
      margin-bottom: 20px;
      object-fit: cover;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(255,255,255,0.5);
    }

    .typing {
      font-size: 1.4rem;
      line-height: 1.7;
      border-right: 2px solid #fff;
      animation: blink 1s infinite;
      max-width: 600px;
      margin: 0 auto 30px auto;
    }
    @keyframes blink {
      0%, 50% { border-color: transparent; }
      51%, 100% { border-color: #fff; }
    }

    button {
      font-size: 1.2rem;
      padding: 15px 35px;
      border-radius: 50px;
      border: 1px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.1);
      color: white;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      margin: 10px;
    }
    button:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(255,255,255,0.3);
    }

    /* Sentence display overlay */
    .sentence-display {
      visibility: hidden;
      pointer-events: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .sentence-display.visible {
      visibility: visible;
      pointer-events: auto;
    }
    .sentence-text {
      font-family: 'Playfair Display', serif;
      font-size: 4rem;
      max-width: 80%;
      text-align: center;
      color: white;
      text-shadow: 0 0 30px rgba(255,255,255,0.8);
      opacity: 0;
      animation-fill-mode: forwards;
    }
    @keyframes fadeInText {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    @keyframes fadeOutText {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    /* Proposal and love message */
    #proposal, #loveMessage, #noMessage {
      max-width: 600px;
      margin: 20px auto;
      display: none;
      text-align: center;
    }
    #proposal {
      font-weight: bold;
      font-size: 2rem;
      text-shadow: 0 0 15px rgba(255,255,255,0.5);
    }
    #yesBtn {
      background: linear-gradient(45deg, #4facfe, #00f2fe);
      color: black;
      margin-right: 10px;
    }
    #noBtn {
      background: linear-gradient(45deg, #ff6b6b, #ee5a24);
      color: white;
    }
    #noBtn:disabled {
      background: #555555;
      opacity: 0.6;
      cursor: not-allowed;
    }
    #loveMessage {
      font-family: 'Playfair Display', serif;
      font-size: 4.5rem;
      color: white;
      animation: pulse 1.5s infinite;
      text-shadow: 0 0 25px rgba(255,255,255,0.8);
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1);}
      50% { transform: scale(1.02);}
    }

    /* Floating Hearts, Sparkles and Photos */
    .hearts, .sparkles, .photos {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }
    .heart {
      position: absolute;
      color: #ff6b9d;
      font-size: 2em;
      animation: gentleFloat 8s linear infinite;
    }
    .sparkle {
      position: absolute;
      color: white;
      font-size: 1.5em;
      animation: sparkleFloat 5s linear infinite;
    }
    .photo {
      position: absolute;
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 10px;
      opacity: 0.3;
      animation: photoFloat 10s linear infinite;
    }
    @keyframes photoFloat {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0.3;}
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0;}
    }
    @keyframes gentleFloat {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0.8;}
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0;}
    }
    @keyframes sparkleFloat {
      0% { transform: translateY(100vh) scale(0); opacity: 1;}
      100% { transform: translateY(-100vh) scale(1); opacity: 0;}
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>
  <div class="sparkles" id="sparkles"></div>
  <div class="photos" id="photos"></div>

  <div class="content-container">
    <div id="welcome" class="fade-in">
      <!-- Added photo here -->
      <img src="her_photo.jpeg" alt="My Love" class="welcome-photo" />
      <h1>Happy Birthday, Aanchuuu</h1>
      <div class="countdown" id="countdown"></div>
      <p class="typing" id="typingText"></p>
      <button id="startBtn">Embark on Our Story</button>
    </div>

    <div id="sentenceDisplay" class="sentence-display">
      <div id="sentenceText" class="sentence-text"></div>
    </div>

    <div id="proposal">
      Will you be there with me for the rest of my life?
      <br/><br/>
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

    <div id="loveMessage">I LOVE YOU ‚ù§Ô∏è</div>
    <div id="noMessage" class="hidden"><p>Oh no! The No button is stuck... maybe it's destiny saying Yes? üòâ</p></div>
  </div>

  <div class="music-player" id="musicPlayer" style="display:none;">
    <audio id="bgMusic" loop>
      <source src="romantic-song.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
  </div>

  <script>
    // Typing effect for welcome message
    const text = "On this special day, I want to celebrate you‚Äîthe most amazing person in my life. You've brought so much joy, love, and light into my world. Here's to many more adventures together!";
    let index = 0;
    function typeWriter() {
      if (index < text.length) {
        document.getElementById('typingText').innerHTML += text.charAt(index);
        index++;
        setTimeout(typeWriter, 50);
      }
    }
    typeWriter();

    // Countdown to birthday (Jan 9th)
    const birthday = new Date(new Date().getFullYear(), 0, 9);
    if (new Date() > birthday) birthday.setFullYear(birthday.getFullYear() + 1);
    function updateCountdown() {
      const now = new Date();
      const diff = birthday - now;
      if (diff > 0) {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        document.getElementById('countdown').innerHTML = `${days} days and ${hours} hours until your birthday!`;
      } else {
        document.getElementById('countdown').innerHTML = "Happy Birthday! üéâ";
      }
    }
    updateCountdown();
    setInterval(updateCountdown, 60000);

    // Floating hearts and sparkles
    function createElement(type, containerId) {
      const el = document.createElement('div');
      el.className = type;
      el.innerHTML = type === 'heart' ? 'üíó' : 'üë∫';
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDelay = Math.random() * 5 + 's';
      document.getElementById(containerId).appendChild(el);
      setTimeout(() => el.remove(), 8000);
    }
    setInterval(() => createElement('heart', 'hearts'), 1000);
    setInterval(() => createElement('sparkle', 'sparkles'), 1200);

    // Floating photos (local files - replace with your actual image file names)
    const photoUrls = [
      'memory1.jpg',
      'memory2.jpg',
      'memory3.jpg',
      'memory4.jpg'
    ];
    function createPhoto() {
      const photo = document.createElement('img');
      photo.className = 'photo';
      photo.src = photoUrls[Math.floor(Math.random() * photoUrls.length)];
      photo.style.left = Math.random() * 100 + 'vw';
      photo.style.animationDelay = Math.random() * 5 + 's';
      document.getElementById('photos').appendChild(photo);
      setTimeout(() => photo.remove(), 10000);
    }
    let photoInterval;

    // Sentences array
    const sentences = [
      "From the moment I met you, my world changed forever.",
      "Your smile lights up my darkest days, and your love fills my heart with endless joy.",
      "Through every laugh, every tear, and every adventure, you've been my constant.",
      "I can't imagine a future without you by my side.",
      "So today, on your special day, I ask..."
    ];
    let currentSentence = 0;

    // Show next sentence
    function showNextSentence() {
      if (currentSentence < sentences.length) {
        const st = document.getElementById('sentenceText');
        st.style.animation = 'none';  // Reset animation
        void st.offsetWidth;           // Trigger reflow
        st.innerHTML = sentences[currentSentence];
        st.style.animation = 'fadeInText 1s forwards, fadeOutText 1s 3s forwards';
        currentSentence++;
        setTimeout(showNextSentence, 4000);
      } else {
        document.getElementById('sentenceDisplay').classList.remove('visible');
        document.getElementById('proposal').style.display = 'block';
        clearInterval(photoInterval);
      }
    }

    // Start button click handler
    document.getElementById('startBtn').addEventListener('click', () => {
      // Play fixed music
      const bgMusic = document.getElementById('bgMusic');
      bgMusic.play().catch(e => console.warn('Music play prevented by browser.', e));

      document.getElementById('welcome').style.display = 'none';
      const overlay = document.getElementById('sentenceDisplay');
      overlay.classList.add('visible');

      photoInterval = setInterval(createPhoto, 1500);

      currentSentence = 0;
      showNextSentence();
    });

    // Proposal button handlers
    document.getElementById('yesBtn').addEventListener('click', () => {
      document.getElementById('proposal').style.display = 'none';
      document.getElementById('loveMessage').style.display = 'block';

      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'absolute';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.top = '-10px';
        confetti.style.width = '10px';
        confetti.style.height = '10px';
        confetti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animation = `gentleFloat ${Math.random() * 3 + 2}s linear`;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 5000);
      }
    });

    document.getElementById('noBtn').addEventListener('click', () => {
      document.getElementById('noBtn').disabled = true;
      document.getElementById('noMessage').style.display = 'block';
    });
  </script>
</body>
</html>